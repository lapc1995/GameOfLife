(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},33:function(t,e,a){t.exports=a(83)},37:function(t,e,a){},38:function(t,e,a){},83:function(t,e,a){"use strict";a.r(e);var n=a(3),i=a.n(n),r=a(31),s=a.n(r),o=(a(37),a(13)),h=a(14),p=a(16),c=a(15),u=a(17),m=a(32),l=a.n(m);a(38),n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(7),f=a(8);function g(t){return i.a.createElement("div",null,i.a.createElement("button",{onClick:t.runGame}," ",t.state," "),i.a.createElement("button",{onClick:t.empty}," New Empty Map "),i.a.createElement("button",{onClick:t.random}," New Random Map "),i.a.createElement("button",{onClick:t.grid}," Grid "))}function v(t){return i.a.createElement("div",null,i.a.createElement(f.Stage,{width:window.innerWidth,height:window.innerHeight},i.a.createElement(f.Layer,null,t.game),i.a.createElement(f.Layer,null,t.grid)))}var y=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(p.a)(this,Object(c.a)(e).call(this,t))).state={map:null,rectangles:[],running:!1,grid:!1},a.map1=a.generateRandomMap(),a.map2=a.generateEmptyMap(),a.currentMap=1,a.onKeyPressed=a.onKeyPressed.bind(Object(d.a)(Object(d.a)(a))),a.runGame=a.runGame.bind(Object(d.a)(Object(d.a)(a))),a.generateEmptyMapAction=a.generateEmptyMapAction.bind(Object(d.a)(Object(d.a)(a))),a.generateRandomMapAction=a.generateRandomMapAction.bind(Object(d.a)(Object(d.a)(a))),a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a.showGrid=a.showGrid.bind(Object(d.a)(Object(d.a)(a))),a.grid=a.createGrid(),a}return Object(u.a)(e,t),Object(h.a)(e,[{key:"createGrid",value:function(){for(var t=[],e=0;e<window.innerWidth;e++)t.push(i.a.createElement(f.Line,{points:[Math.round(10*e)+.5,0,Math.round(10*e)+.5,window.innerHeight],stroke:"#ddd",strokeWidth:1}));for(var a=0;a<window.innerHeight;a++)t.push(i.a.createElement(f.Line,{points:[0,Math.round(10*a),window.innerWidth,Math.round(10*a)],stroke:"#ddd",strokeWidth:.5}));return t}},{key:"onClick",value:function(t){console.log(t.nativeEvent.offsetX,t.nativeEvent.offsetY),this.setMapPosition(t.nativeEvent.offsetX,t.nativeEvent.offsetY)}},{key:"setMapPosition",value:function(t,e){var a,n=[];1===this.currentMap?(a=this.map2,this.currentMap=2):(a=this.map1,this.currentMap=1);for(var r=0;r<this.props.y;r++)for(var s=0;s<this.props.x;s++)Math.floor(e/10)===r&&Math.floor(t/10)===s?0===this.state.map[r][s]?a[r][s]=1:a[r][s]=0:a[r][s]=this.state.map[r][s],1===a[r][s]&&n.push(i.a.createElement(f.Rect,{x:10*s,y:10*r,width:10,height:10,fill:"rgb(0,0,0)"}));this.setState({map:a,rectangles:n})}},{key:"render",value:function(){var t=this.state.grid?this.grid:[];return i.a.createElement("div",null,i.a.createElement("div",{onClick:this.onClick}," ",i.a.createElement(v,{game:this.state.rectangles,t:this.onMouseMove,grid:t})),i.a.createElement("div",null,i.a.createElement(g,{runGame:this.runGame,state:this.state.running?"Pause":"Play",empty:this.generateEmptyMapAction,random:this.generateRandomMapAction,grid:this.showGrid})))}},{key:"componentDidMount",value:function(){for(var t=this,e=[],a=0;a<this.props.y;a++)for(var n=0;n<this.props.x;n++)1===this.map1[a][n]&&e.push(i.a.createElement(f.Rect,{x:10*n,y:10*a,width:10,height:10,fill:"rgb(0,0,0)"}));this.setState({map:this.map1,rectangles:e}),this.intervalID=setInterval(function(){return t.tick()},1/30),document.addEventListener("keydown",this.onKeyPressed,!1)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID),document.removeEventListener("keydown",this.onKeyPressed,!1)}},{key:"tick",value:function(){if(this.state.running){var t,e=[];1===this.currentMap?(t=this.map2,this.currentMap=2):(t=this.map1,this.currentMap=1);for(var a=0;a<this.props.y;a++)for(var n=0;n<this.props.x;n++)t[a][n]=this.gameOfLifeRules(a,n,this),1===t[a][n]&&e.push(i.a.createElement(f.Rect,{x:10*n,y:10*a,width:10,height:10,fill:"rgb(0,0,0)"}));this.setState({map:t,rectangles:e})}}},{key:"generateRandomMap",value:function(){for(var t=new Array(Number(this.props.y)),e=0;e<this.props.y;e++){t[e]=Array(Number(this.props.x));for(var a=0;a<this.props.x;a++)t[e][a]=Math.round(Math.random())}return t}},{key:"generateEmptyMap",value:function(){for(var t=new Array(Number(this.props.y)),e=0;e<this.props.y;e++){t[e]=Array(Number(this.props.x));for(var a=0;a<this.props.x;a++)t[e][a]=0}return t}},{key:"gameOfLifeRules",value:function(t,e){var a=this.getNeighbors(t,e);if(1===this.state.map[t][e]){if(a<2||a>3)return 0;if(2===a||3===a)return 1}else if(0===this.state.map[t][e])return 3===a?1:0}},{key:"getNeighbors",value:function(t,e){var a=0,n=t-1<0?this.props.y-1:t-1,i=t+1>=this.props.y?0:t+1,r=e-1<0?this.props.x-1:e-1,s=e+1>=this.props.x?0:e+1;return a+=this.state.map[n][r],a+=this.state.map[n][e],a+=this.state.map[n][s],a+=this.state.map[t][r],a+=this.state.map[t][s],a+=this.state.map[i][r],a+=this.state.map[i][e],a+=this.state.map[i][s]}},{key:"onKeyPressed",value:function(t){" "===t.key&&this.runGame()}},{key:"runGame",value:function(){this.setState({running:!this.state.running})}},{key:"showGrid",value:function(){this.setState({grid:!this.state.grid})}},{key:"generateRandomMapAction",value:function(){1===this.currentMap?(this.map2=this.generateRandomMap(),this.currentMap=2,this.setState({map:this.map2})):(this.map1=this.generateRandomMap(),this.currentMap=1,this.setState({map:this.map1}));for(var t=[],e=0;e<this.props.y;e++)for(var a=0;a<this.props.x;a++)1===this.state.map[e][a]&&t.push(i.a.createElement(f.Rect,{x:10*a,y:10*e,width:10,height:10,fill:"rgb(0,0,0)"}));this.setState({rectangles:t})}},{key:"generateEmptyMapAction",value:function(){1===this.currentMap?(this.map2=this.generateEmptyMap(),this.currentMap=2,this.setState({map:this.map2})):(this.map1=this.generateEmptyMap(),this.currentMap=1,this.setState({map:this.map1})),this.setState({rectangles:[]})}}]),e}(i.a.Component);s.a.render(i.a.createElement(y,{x:Math.floor(window.innerWidth/10),y:Math.floor(window.innerHeight/10)}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.abb6b920.chunk.js.map